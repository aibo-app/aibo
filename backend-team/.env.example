# ==============================================
# Aibō Team Backend - Environment Configuration
# ==============================================
# This secure proxy handles blockchain data aggregation
# for the Aibō desktop application.

# ---------------------------------------------
# Database Configuration
# ---------------------------------------------
# PostgreSQL connection string for persistent token metadata
# Format: postgres://user:password@host:port/database
# For local dev: postgres://postgres:postgres@localhost:5432/aibo
# For Render: Automatically provided as DATABASE_URL
DATABASE_URL=postgres://postgres:postgres@localhost:5432/aibo

# ---------------------------------------------
# Redis Cache (Highly Recommended for Production)
# ---------------------------------------------
# Redis connection string for high-performance caching
# Reduces API calls by 90%+ and improves response time from 2s to 50ms
# Format: redis://user:password@host:port
# For local dev: redis://localhost:6379
# For Render: Use Render Redis add-on, URL auto-injected
REDIS_URL=redis://localhost:6379

# ---------------------------------------------
# Authentication
# ---------------------------------------------
# Shared secret token for authenticating requests from desktop app
# Generate a strong random token: openssl rand -hex 32
TEAM_TOKEN=your_secure_random_token_here_change_this

# ---------------------------------------------
# Blockchain RPC Endpoints
# ---------------------------------------------
# Helius RPC URL for Solana wallet tracking and transaction indexing
# Get your API key from: https://helius.dev
# Format: https://rpc.helius.xyz/?api-key=YOUR_KEY
HELIUS_RPC_URL=https://rpc.helius.xyz/?api-key=your_helius_key_here

# Fallback Solana RPC (optional, used if Helius fails)
# Public endpoint: https://api.mainnet-beta.solana.com
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com

# Base (Ethereum L2) RPC URL with Alchemy for token indexing
# Get your API key from: https://alchemy.com
# Format: https://base-mainnet.g.alchemy.com/v2/YOUR_KEY
BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/your_alchemy_key_here

# ---------------------------------------------
# AI Chat Service
# ---------------------------------------------
# DeepSeek API key for AI chat proxy endpoint
# Get your API key from: https://deepseek.com
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# ---------------------------------------------
# Voice Transcription (Deepgram)
# ---------------------------------------------
# Deepgram API key for speech-to-text transcription
# Get your API key from: https://deepgram.com
DEEPGRAM_API_KEY=your_deepgram_api_key_here

# ---------------------------------------------
# Price APIs
# ---------------------------------------------
# Jupiter Price API v3 (Solana token prices)
# Get a free API key from: https://portal.jup.ag
JUPITER_API_KEY=your_jupiter_api_key_here

# Birdeye API for historical price data (Solana tokens)
# Get your API key from: https://birdeye.so
BIRDEYE_API_KEY=your_birdeye_api_key_here

# The following APIs are also used (free, no keys required):
# - DexScreener API (fallback prices)
# - CoinGecko API (free tier)
# - Binance Public API

# ---------------------------------------------
# Performance Tuning (Optional)
# ---------------------------------------------
# PostgreSQL connection pool size (default: 20)
# Increase for high-traffic scenarios (10k+ wallets)
# DB_POOL_SIZE=20

# Redis connection pool size (default: 10)
# REDIS_POOL_SIZE=10

# API request concurrency limit (default: 50)
# Lower this if hitting rate limits
# API_CONCURRENCY=50

# Wallet fetch concurrency (default: 20)
# Max parallel wallet balance fetches
# WALLET_CONCURRENCY=20

# Token refresh interval in milliseconds (default: 5000 = 5 seconds)
# How often to refresh active token prices
# REFRESH_INTERVAL_MS=5000

# ---------------------------------------------
# Deployment Info
# ---------------------------------------------
# Port (default: 4000)
# Render will override this with PORT env var
PORT=4000

# Node environment
NODE_ENV=production
